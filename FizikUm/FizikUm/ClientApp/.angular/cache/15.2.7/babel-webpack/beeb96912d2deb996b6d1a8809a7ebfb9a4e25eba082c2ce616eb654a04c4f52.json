{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ResourceComponent_div_5_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"strong\");\n    i0.ɵɵtext(6, \"Description:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"strong\");\n    i0.ɵɵtext(10, \"Code:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11);\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵelementStart(13, \"button\", 0);\n    i0.ɵɵlistener(\"click\", function ResourceComponent_div_5_li_4_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const resource_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.showView(\"edit\", resource_r4));\n    });\n    i0.ɵɵtext(14, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 0);\n    i0.ɵɵlistener(\"click\", function ResourceComponent_div_5_li_4_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const resource_r4 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.deleteResource(resource_r4.resourceId));\n    });\n    i0.ɵɵtext(16, \"Delete\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const resource_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", resource_r4.name, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", resource_r4.description, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", resource_r4.code, \"\");\n  }\n}\nfunction ResourceComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Resources\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\");\n    i0.ɵɵtemplate(4, ResourceComponent_div_5_li_4_Template, 17, 3, \"li\", 2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.resources);\n  }\n}\nfunction ResourceComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\")(2, \"h3\");\n    i0.ɵɵtext(3, \"Add New Resource\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"form\", 3);\n    i0.ɵɵlistener(\"ngSubmit\", function ResourceComponent_div_6_Template_form_ngSubmit_4_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.addResource());\n    });\n    i0.ɵɵelementStart(5, \"label\", 4);\n    i0.ɵɵtext(6, \"Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceComponent_div_6_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.newResource.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"label\", 6);\n    i0.ɵɵtext(9, \"Description:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"textarea\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceComponent_div_6_Template_textarea_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.newResource.description = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"label\", 8);\n    i0.ɵɵtext(12, \"Code:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceComponent_div_6_Template_input_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.newResource.code = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 10);\n    i0.ɵɵtext(15, \"Add Resource\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newResource.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newResource.description);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newResource.code);\n  }\n}\nfunction ResourceComponent_div_7_form_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 3);\n    i0.ɵɵlistener(\"ngSubmit\", function ResourceComponent_div_7_form_3_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.updateResource(ctx_r14.selectedResource.resourceId, ctx_r14.selectedResource));\n    });\n    i0.ɵɵelementStart(1, \"label\", 4);\n    i0.ɵɵtext(2, \"Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceComponent_div_7_form_3_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.selectedResource.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\", 6);\n    i0.ɵɵtext(5, \"Description:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"textarea\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceComponent_div_7_form_3_Template_textarea_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r17.selectedResource.description = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\", 8);\n    i0.ɵɵtext(8, \"Code:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceComponent_div_7_form_3_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.selectedResource.code = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 10);\n    i0.ɵɵtext(11, \"Save Changes\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r13.selectedResource.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r13.selectedResource.description);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r13.selectedResource.code);\n  }\n}\nfunction ResourceComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"Edit Resource View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ResourceComponent_div_7_form_3_Template, 12, 3, \"form\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectedResource);\n  }\n}\nexport class ResourceComponent {\n  constructor(http) {\n    this.http = http;\n    this.resources = [];\n    this.newResource = {\n      resourceId: 0,\n      name: '',\n      description: '',\n      classroom: {\n        classroomId: 0,\n        subjectCategoryId: 0,\n        subjectCategory: {\n          subjectCategoryId: 0,\n          name: ''\n        },\n        resources: []\n      },\n      code: ''\n    };\n    // Add the selectedResource property\n    this.selectedResource = null;\n    this.currentView = 'index';\n    this.apiUrl = 'https://localhost:7175/Resource/api/';\n  }\n  ngOnInit() {\n    this.getResources();\n  }\n  showView(view, resource) {\n    this.currentView = view;\n    if (view === 'edit' && resource) {\n      this.selectedResource = {\n        ...resource\n      };\n    }\n  }\n  getResources() {\n    this.http.get(`${this.apiUrl}GetResources`).subscribe(result => this.resources = result, error => console.error('Error fetching resources:', error));\n  }\n  addResource() {\n    this.http.post(`${this.apiUrl}PostResource`, this.newResource).subscribe(result => {\n      this.resources.push(result);\n      this.resetNewResource();\n    }, error => console.error('Error adding resource:', error));\n  }\n  updateResource(id, resource) {\n    this.http.put(`${this.apiUrl}PutResource/${id}`, resource).subscribe(() => {\n      // Optional: Handle success, e.g., show a message\n    }, error => console.error('Error updating resource:', error));\n  }\n  deleteResource(id) {\n    this.http.delete(`${this.apiUrl}DeleteResource/${id}`).subscribe(() => {\n      this.resources = this.resources.filter(r => r.resourceId !== id);\n    }, error => console.error('Error deleting resource:', error));\n  }\n  resetNewResource() {\n    this.newResource = {\n      resourceId: 0,\n      name: '',\n      description: '',\n      classroom: {\n        classroomId: 0,\n        subjectCategoryId: 0,\n        subjectCategory: {\n          subjectCategoryId: 0,\n          name: ''\n        },\n        resources: []\n      },\n      code: ''\n    };\n  }\n}\nResourceComponent.ɵfac = function ResourceComponent_Factory(t) {\n  return new (t || ResourceComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\nResourceComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ResourceComponent,\n  selectors: [[\"app-resource\"]],\n  decls: 8,\n  vars: 3,\n  consts: [[3, \"click\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngSubmit\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"description\"], [\"id\", \"description\", \"name\", \"description\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"code\"], [\"type\", \"text\", \"id\", \"code\", \"name\", \"code\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"], [3, \"ngSubmit\", 4, \"ngIf\"]],\n  template: function ResourceComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\")(1, \"a\", 0);\n      i0.ɵɵlistener(\"click\", function ResourceComponent_Template_a_click_1_listener() {\n        return ctx.showView(\"index\");\n      });\n      i0.ɵɵtext(2, \"Index\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"a\", 0);\n      i0.ɵɵlistener(\"click\", function ResourceComponent_Template_a_click_3_listener() {\n        return ctx.showView(\"create\");\n      });\n      i0.ɵɵtext(4, \"Create\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(5, ResourceComponent_div_5_Template, 5, 1, \"div\", 1);\n      i0.ɵɵtemplate(6, ResourceComponent_div_6_Template, 16, 3, \"div\", 1);\n      i0.ɵɵtemplate(7, ResourceComponent_div_7_Template, 4, 1, \"div\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.currentView === \"index\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.currentView === \"create\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.currentView === \"edit\");\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ResourceComponent","constructor","http","resourceId","name","description","classroom","classroomId","subjectCategoryId","subjectCategory","resources","code","ngOnInit","getResources","showView","view","resource","currentView","selectedResource","get","apiUrl","subscribe","result","error","console","addResource","post","newResource","push","resetNewResource","updateResource","id","put","deleteResource","delete","filter","r","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\FizikUm\\FizikUm\\FizikUm\\ClientApp\\src\\app\\resource\\resource.component.html","D:\\FizikUm\\FizikUm\\FizikUm\\ClientApp\\src\\app\\resource\\resource.component.ts"],"sourcesContent":["<nav>\n  <a (click)=\"showView('index')\">Index</a>\n  <a (click)=\"showView('create')\">Create</a>\n</nav>\n\n<div *ngIf=\"currentView === 'index'\">\n  <h2>Resources</h2>\n\n  <ul>\n    <li *ngFor=\"let resource of resources\">\n      <strong>Name:</strong> {{ resource.name }}<br>\n      <strong>Description:</strong> {{ resource.description }}<br>\n      <strong>Code:</strong> {{ resource.code }}<br>\n\n      <button (click)=\"showView('edit', resource)\">Edit</button>\n      <button (click)=\"deleteResource(resource.resourceId)\">Delete</button>\n    </li>\n  </ul>\n</div>\n\n<div *ngIf=\"currentView === 'create'\">\n  <div>\n    <h3>Add New Resource</h3>\n    <form (ngSubmit)=\"addResource()\">\n      <label for=\"name\">Name:</label>\n      <input type=\"text\" id=\"name\" name=\"name\" [(ngModel)]=\"newResource.name\" required>\n\n      <label for=\"description\">Description:</label>\n      <textarea id=\"description\" name=\"description\" [(ngModel)]=\"newResource.description\" required></textarea>\n\n      <label for=\"code\">Code:</label>\n      <input type=\"text\" id=\"code\" name=\"code\" [(ngModel)]=\"newResource.code\" required>\n\n      <button type=\"submit\">Add Resource</button>\n    </form>\n  </div>\n</div>\n\n<div *ngIf=\"currentView === 'edit'\">\n  <p>Edit Resource View</p>\n  <form *ngIf=\"selectedResource\" (ngSubmit)=\"updateResource(selectedResource.resourceId, selectedResource)\">\n    <label for=\"name\">Name:</label>\n    <input type=\"text\" id=\"name\" name=\"name\" [(ngModel)]=\"selectedResource.name\" required>\n\n    <label for=\"description\">Description:</label>\n    <textarea id=\"description\" name=\"description\" [(ngModel)]=\"selectedResource.description\" required></textarea>\n\n    <label for=\"code\">Code:</label>\n    <input type=\"text\" id=\"code\" name=\"code\" [(ngModel)]=\"selectedResource.code\" required>\n\n    <button type=\"submit\">Save Changes</button>\n  </form>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-resource',\n  templateUrl: './resource.component.html',\n  styleUrls: ['./resource.component.css']\n})\nexport class ResourceComponent implements OnInit {\n  public resources: Resource[] = [];\n  public newResource: Resource = {\n    resourceId: 0,\n    name: '',\n    description: '',\n    classroom: { classroomId: 0, subjectCategoryId: 0, subjectCategory: { subjectCategoryId: 0, name: '' }, resources: [] },\n    code: ''\n  };\n\n  // Add the selectedResource property\n  public selectedResource: Resource | null = null;\n\n  currentView: string = 'index';\n\n  constructor(private http: HttpClient) { }\n\n  ngOnInit(): void {\n    this.getResources();\n  }\n\n  showView(view: string, resource?: Resource) {\n    this.currentView = view;\n\n    if (view === 'edit' && resource) {\n      this.selectedResource = { ...resource };\n    }\n  }\n\n  private apiUrl = 'https://localhost:7175/Resource/api/';\n\n  getResources() {\n    this.http.get<Resource[]>(`${this.apiUrl}GetResources`).subscribe(\n      result => this.resources = result,\n      error => console.error('Error fetching resources:', error)\n    );\n  }\n\n  addResource() {\n    this.http.post<Resource>(`${this.apiUrl}PostResource`, this.newResource).subscribe(\n      result => {\n        this.resources.push(result);\n        this.resetNewResource();\n      },\n      error => console.error('Error adding resource:', error)\n    );\n  }\n\n  updateResource(id: number, resource: Resource) {\n    this.http.put(`${this.apiUrl}PutResource/${id}`, resource).subscribe(\n      () => {\n        // Optional: Handle success, e.g., show a message\n      },\n      error => console.error('Error updating resource:', error)\n    );\n  }\n\n  deleteResource(id: number) {\n    this.http.delete(`${this.apiUrl}DeleteResource/${id}`).subscribe(\n      () => {\n        this.resources = this.resources.filter(r => r.resourceId !== id);\n      },\n      error => console.error('Error deleting resource:', error)\n    );\n  }\n\n  private resetNewResource() {\n    this.newResource = {\n      resourceId: 0,\n      name: '',\n      description: '',\n      classroom: { classroomId: 0, subjectCategoryId: 0, subjectCategory: { subjectCategoryId: 0, name: '' }, resources: [] },\n      code: ''\n    };\n  }\n}\n\ninterface Resource {\n  resourceId: number;\n  name: string;\n  description: string;\n  classroom: Classroom;\n  code: string;\n}\n\ninterface SubjectCategory {\n  subjectCategoryId: number;\n  name: string;\n}\n\ninterface Classroom {\n  classroomId: number;\n  subjectCategoryId: number;\n  subjectCategory: SubjectCategory;\n  resources: Resource[];\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}