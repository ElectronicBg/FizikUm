{"ast":null,"code":"import { take } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"D:/FizikUm/FizikUm/FizikUm/ClientApp/src/api-authorization/authorize.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ResourceComponent_div_5_div_4_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"strong\");\n    i0.ɵɵtext(2, \"Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"strong\");\n    i0.ɵɵtext(6, \"Description:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"strong\");\n    i0.ɵɵtext(10, \"Code:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11);\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵelementStart(13, \"button\", 0);\n    i0.ɵɵlistener(\"click\", function ResourceComponent_div_5_div_4_div_6_div_1_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const resource_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r8.showView(\"edit\", resource_r7));\n    });\n    i0.ɵɵtext(14, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 0);\n    i0.ɵɵlistener(\"click\", function ResourceComponent_div_5_div_4_div_6_div_1_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const resource_r7 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r10.deleteResource(resource_r7.id));\n    });\n    i0.ɵɵtext(16, \"Delete\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const resource_r7 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", resource_r7.name, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", resource_r7.description, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", resource_r7.code, \"\");\n  }\n}\nfunction ResourceComponent_div_5_div_4_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ResourceComponent_div_5_div_4_div_6_div_1_Template, 17, 3, \"div\", 6);\n    i0.ɵɵelementStart(2, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ResourceComponent_div_5_div_4_div_6_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const classroom_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.showViewCreate(classroom_r4));\n    });\n    i0.ɵɵtext(3, \"Create Resource\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const classroom_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.getResourcesByClassroomId(classroom_r4.id));\n  }\n}\nfunction ResourceComponent_div_5_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5);\n    i0.ɵɵlistener(\"click\", function ResourceComponent_div_5_div_4_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const classroom_r4 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.toggleClassroom(classroom_r4.id));\n    });\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5, \"\\u25BC\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, ResourceComponent_div_5_div_4_div_6_Template, 4, 1, \"div\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const classroom_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(classroom_r4.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"expanded\", ctx_r3.isClassroomExpanded(classroom_r4.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isClassroomExpanded(classroom_r4.id));\n  }\n}\nfunction ResourceComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Resources\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 2);\n    i0.ɵɵtemplate(4, ResourceComponent_div_5_div_4_Template, 7, 4, \"div\", 3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.classrooms);\n  }\n}\nfunction ResourceComponent_div_6_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const classroom_r18 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", classroom_r18.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(classroom_r18.name);\n  }\n}\nfunction ResourceComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 8)(2, \"h3\");\n    i0.ɵɵtext(3, \"Add New Resource\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"form\", 9);\n    i0.ɵɵlistener(\"ngSubmit\", function ResourceComponent_div_6_Template_form_ngSubmit_4_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.addResource());\n    });\n    i0.ɵɵelementStart(5, \"label\", 10);\n    i0.ɵɵtext(6, \"Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceComponent_div_6_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.newResource.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"label\", 12);\n    i0.ɵɵtext(9, \"Description:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"textarea\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceComponent_div_6_Template_textarea_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.newResource.description = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"label\", 14);\n    i0.ɵɵtext(12, \"Code:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceComponent_div_6_Template_input_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.newResource.code = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"label\", 16);\n    i0.ɵɵtext(15, \"Classroom:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"select\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceComponent_div_6_Template_select_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.newResource.selectedClassroomId = $event);\n    });\n    i0.ɵɵtemplate(17, ResourceComponent_div_6_option_17_Template, 2, 2, \"option\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 19);\n    i0.ɵɵtext(19, \"Add Resource\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newResource.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newResource.description);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newResource.code);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newResource.selectedClassroomId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.classrooms);\n  }\n}\nfunction ResourceComponent_div_7_form_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 9);\n    i0.ɵɵlistener(\"ngSubmit\", function ResourceComponent_div_7_form_4_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r26.updateResource(ctx_r26.selectedResource.id, ctx_r26.selectedResource));\n    });\n    i0.ɵɵelementStart(1, \"label\", 10);\n    i0.ɵɵtext(2, \"Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceComponent_div_7_form_4_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r28 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r28.selectedResource.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\", 12);\n    i0.ɵɵtext(5, \"Description:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"textarea\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceComponent_div_7_form_4_Template_textarea_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r29.selectedResource.description = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\", 14);\n    i0.ɵɵtext(8, \"Code:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceComponent_div_7_form_4_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r30.selectedResource.code = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 19);\n    i0.ɵɵtext(11, \"Save Changes\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r25.selectedResource.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r25.selectedResource.description);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r25.selectedResource.code);\n  }\n}\nfunction ResourceComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 8)(2, \"p\");\n    i0.ɵɵtext(3, \"Edit Resource View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ResourceComponent_div_7_form_4_Template, 12, 3, \"form\", 21);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectedResource);\n  }\n}\nexport class ResourceComponent {\n  constructor(http, authService) {\n    this.http = http;\n    this.authService = authService;\n    this.resources = [];\n    this.classrooms = [];\n    this.newResource = this.getEmptyResource();\n    this.expandedClassrooms = new Set();\n    // Add the selectedResource property\n    this.selectedResource = null;\n    this.currentView = 'index';\n    this.apiUrl = 'https://localhost:7175/Resource/api/';\n  }\n  ngOnInit() {\n    this.getResources();\n    this.getClassrooms();\n  }\n  getClassrooms() {\n    // Fetch the list of existing classrooms from your API\n    this.http.get(`https://localhost:7175/Classroom/api/GetClassroom`).subscribe(result => this.classrooms = result, error => console.error('Error fetching classrooms:', error));\n  }\n  showView(view, resource) {\n    this.currentView = view;\n    if (view === 'index') {\n      this.getResources();\n    }\n    if (view === 'edit' && resource) {\n      this.selectedResource = {\n        ...resource\n      };\n    }\n  }\n  showViewCreate(classroom) {\n    this.currentView = 'create';\n    this.newResource = this.getEmptyResource();\n    this.newResource.classroomId = classroom.id;\n  }\n  getResources() {\n    this.http.get(`${this.apiUrl}GetResources`).subscribe(result => this.resources = result, error => console.error('Error fetching resources:', error));\n  }\n  addResource() {\n    this.authService.getUser().pipe(take(1)).subscribe(user => {\n      this.newResource.createdBy = user?.name ?? null;\n      const selectedClassroomId = this.newResource.selectedClassroomId;\n      // Find the selected classroom based on selectedClassroomId\n      const selectedClassroom = this.classrooms.find(c => c.id === selectedClassroomId);\n      if (selectedClassroom) {\n        // Set the classroomId to the selected classroom's id\n        this.newResource.classroomId = selectedClassroom.id;\n        console.log('Selected Classroom ID:', this.newResource.selectedClassroomId);\n        this.http.post(`${this.apiUrl}PostResource`, this.newResource).subscribe(result => {\n          result.classroomId = selectedClassroom.id;\n          this.resources.push(result);\n          this.resetNewResource();\n        }, error => console.error('Error adding resource:', error));\n      } else {\n        console.error('Selected classroom not found');\n      }\n    }, error => console.error('Error fetching user:', error));\n  }\n  updateResource(id, Resource) {\n    this.http.put(`${this.apiUrl}PutResource/${id}`, Resource).subscribe(() => {}, error => console.error('Error updating resource:', error));\n  }\n  deleteResource(id) {\n    if (id === undefined) {\n      return;\n    }\n    this.http.delete(`${this.apiUrl}DeleteResource/${id}`).subscribe(() => {\n      this.resources = this.resources.filter(r => r.id !== id);\n    }, error => console.error('Error deleting resource:', error));\n  }\n  getResourcesByClassroomId(classroomId) {\n    return this.resources.filter(resource => resource.classroomId === classroomId);\n  }\n  toggleClassroom(classroomId) {\n    if (this.expandedClassrooms.has(classroomId)) {\n      this.expandedClassrooms.delete(classroomId);\n    } else {\n      this.expandedClassrooms.add(classroomId);\n    }\n  }\n  isClassroomExpanded(classroomId) {\n    return this.expandedClassrooms.has(classroomId);\n  }\n  resetNewResource() {\n    this.newResource = this.getEmptyResource();\n  }\n  getEmptyResource() {\n    return {\n      id: 0,\n      name: '',\n      description: '',\n      classroomId: 0,\n      code: '',\n      createdBy: ''\n    };\n  }\n}\nResourceComponent.ɵfac = function ResourceComponent_Factory(t) {\n  return new (t || ResourceComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.AuthorizeService));\n};\nResourceComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ResourceComponent,\n  selectors: [[\"app-resource\"]],\n  decls: 8,\n  vars: 3,\n  consts: [[3, \"click\"], [4, \"ngIf\"], [1, \"resources-container\"], [\"class\", \"classroom-section\", 4, \"ngFor\", \"ngForOf\"], [1, \"classroom-section\"], [1, \"classroom-header\", 3, \"click\"], [\"class\", \"resource-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"create-resource-button\", 3, \"click\"], [1, \"resource-card\"], [3, \"ngSubmit\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"description\"], [\"id\", \"description\", \"name\", \"description\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"code\"], [\"type\", \"text\", \"id\", \"code\", \"name\", \"code\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"classroomId\"], [\"id\", \"classroomId\", \"name\", \"classroomId\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\"], [3, \"ngValue\"], [3, \"ngSubmit\", 4, \"ngIf\"]],\n  template: function ResourceComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\")(1, \"a\", 0);\n      i0.ɵɵlistener(\"click\", function ResourceComponent_Template_a_click_1_listener() {\n        return ctx.showView(\"index\");\n      });\n      i0.ɵɵtext(2, \"Index\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"a\", 0);\n      i0.ɵɵlistener(\"click\", function ResourceComponent_Template_a_click_3_listener() {\n        return ctx.showView(\"create\");\n      });\n      i0.ɵɵtext(4, \"Create\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(5, ResourceComponent_div_5_Template, 5, 1, \"div\", 1);\n      i0.ɵɵtemplate(6, ResourceComponent_div_6_Template, 20, 5, \"div\", 1);\n      i0.ɵɵtemplate(7, ResourceComponent_div_7_Template, 5, 1, \"div\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.currentView === \"index\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.currentView === \"create\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.currentView === \"edit\");\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\"body[_ngcontent-%COMP%] {\\r\\n  font-family: Arial, sans-serif;\\r\\n  margin: 20px;\\r\\n}\\r\\n\\r\\nnav[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n  nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n    text-decoration: none;\\r\\n    padding: 8px 12px;\\r\\n    margin-right: 10px;\\r\\n    background-color: #3498db;\\r\\n    color: #fff;\\r\\n    border-radius: 5px;\\r\\n    cursor: pointer;\\r\\n  }\\r\\n\\r\\n.resource-card[_ngcontent-%COMP%] {\\r\\n  flex: 1;\\r\\n  max-width: 300px;\\r\\n  margin: 10px;\\r\\n  border: 1px solid #ccc;\\r\\n  border-radius: 8px;\\r\\n  padding: 15px;\\r\\n}\\r\\n\\r\\n.classroom-header[_ngcontent-%COMP%] {\\r\\n  cursor: pointer;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: space-between;\\r\\n  padding: 10px;\\r\\n  background-color: #f0f0f0;\\r\\n  margin-bottom: 5px;\\r\\n}\\r\\n\\r\\n  .classroom-header[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #e0e0e0;\\r\\n  }\\r\\n\\r\\n.expanded[_ngcontent-%COMP%] {\\r\\n  transform: rotate(90deg);\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n  background-color: #2ecc71;\\r\\n  color: #fff;\\r\\n  border: none;\\r\\n  padding: 8px 12px;\\r\\n  margin-right: 5px;\\r\\n  border-radius: 5px;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n  button[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #27ae60;\\r\\n  }\\r\\n\\r\\nform[_ngcontent-%COMP%] {\\r\\n  margin-top: 15px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcmVzb3VyY2UvcmVzb3VyY2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDhCQUE4QjtFQUM5QixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0VBRUU7SUFDRSxxQkFBcUI7SUFDckIsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQix5QkFBeUI7SUFDekIsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixlQUFlO0VBQ2pCOztBQUVGO0VBQ0UsT0FBTztFQUNQLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQixhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQiw4QkFBOEI7RUFDOUIsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixrQkFBa0I7QUFDcEI7O0VBRUU7SUFDRSx5QkFBeUI7RUFDM0I7O0FBRUY7RUFDRSx3QkFBd0I7QUFDMUI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsV0FBVztFQUNYLFlBQVk7RUFDWixpQkFBaUI7RUFDakIsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixlQUFlO0FBQ2pCOztFQUVFO0lBQ0UseUJBQXlCO0VBQzNCOztBQUVGO0VBQ0UsZ0JBQWdCO0FBQ2xCIiwic291cmNlc0NvbnRlbnQiOlsiYm9keSB7XHJcbiAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gIG1hcmdpbjogMjBweDtcclxufVxyXG5cclxubmF2IHtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG59XHJcblxyXG4gIG5hdiBhIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgIHBhZGRpbmc6IDhweCAxMnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzM0OThkYjtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuXHJcbi5yZXNvdXJjZS1jYXJkIHtcclxuICBmbGV4OiAxO1xyXG4gIG1heC13aWR0aDogMzAwcHg7XHJcbiAgbWFyZ2luOiAxMHB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIHBhZGRpbmc6IDE1cHg7XHJcbn1cclxuXHJcbi5jbGFzc3Jvb20taGVhZGVyIHtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XHJcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG59XHJcblxyXG4gIC5jbGFzc3Jvb20taGVhZGVyOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlMGUwZTA7XHJcbiAgfVxyXG5cclxuLmV4cGFuZGVkIHtcclxuICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7XHJcbn1cclxuXHJcbmJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzJlY2M3MTtcclxuICBjb2xvcjogI2ZmZjtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgcGFkZGluZzogOHB4IDEycHg7XHJcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuICBidXR0b246aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzI3YWU2MDtcclxuICB9XHJcblxyXG5mb3JtIHtcclxuICBtYXJnaW4tdG9wOiAxNXB4O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nvar Subject;\n(function (Subject) {\n  Subject[Subject[\"Physics\"] = 0] = \"Physics\";\n  Subject[Subject[\"Biology\"] = 1] = \"Biology\";\n  Subject[Subject[\"Chemistry\"] = 2] = \"Chemistry\";\n})(Subject || (Subject = {}));","map":{"version":3,"mappings":"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","names":["take","i0","ResourceComponent","constructor","http","authService","getEmptyResource","Set","ngOnInit","getResources","getClassrooms","get","subscribe","result","classrooms","error","console","showView","view","resource","currentView","selectedResource","showViewCreate","classroom","newResource","classroomId","id","apiUrl","resources","addResource","getUser","pipe","user","createdBy","name","selectedClassroomId","selectedClassroom","find","c","log","post","push","resetNewResource","updateResource","Resource","put","deleteResource","undefined","delete","filter","r","getResourcesByClassroomId","toggleClassroom","expandedClassrooms","has","add","isClassroomExpanded","description","code","selectors","decls","vars","consts","template","ctx","Subject"],"sourceRoot":"","sources":["D:\\FizikUm\\FizikUm\\FizikUm\\ClientApp\\src\\app\\resource\\resource.component.ts","D:\\FizikUm\\FizikUm\\FizikUm\\ClientApp\\src\\app\\resource\\resource.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { AuthorizeService } from 'D:/FizikUm/FizikUm/FizikUm/ClientApp/src/api-authorization/authorize.service';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-resource',\r\n  templateUrl: './resource.component.html',\r\n  styleUrls: ['./resource.component.css']\r\n})\r\nexport class ResourceComponent implements OnInit {\r\n  public resources: Resource[] = [];\r\n  public classrooms: Classroom[] = [];\r\n  public newResource: Resource = this.getEmptyResource();\r\n  expandedClassrooms: Set<number> = new Set<number>();\r\n  // Add the selectedResource property\r\n  public selectedResource: Resource | null = null;\r\n\r\n  currentView: string = 'index';\r\n\r\n  constructor(private http: HttpClient, private authService: AuthorizeService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getResources();\r\n    this.getClassrooms();\r\n  }\r\n\r\n  getClassrooms() {\r\n    // Fetch the list of existing classrooms from your API\r\n    this.http.get<Classroom[]>(`https://localhost:7175/Classroom/api/GetClassroom`).subscribe(\r\n      result => this.classrooms = result,\r\n      error => console.error('Error fetching classrooms:', error)\r\n    );\r\n  }\r\n\r\n  showView(view: string, resource?: Resource) {\r\n    this.currentView = view;\r\n\r\n    if (view === 'index') {\r\n      this.getResources();\r\n    }\r\n\r\n    if (view === 'edit' && resource) {\r\n      this.selectedResource = { ...resource };\r\n    }\r\n  }\r\n  showViewCreate(classroom: Classroom) {\r\n    this.currentView = 'create';\r\n    this.newResource = this.getEmptyResource();\r\n    this.newResource.classroomId = classroom.id\r\n  }\r\n\r\n  private apiUrl = 'https://localhost:7175/Resource/api/';\r\n\r\n  getResources() {\r\n    this.http.get<Resource[]>(`${this.apiUrl}GetResources`).subscribe(\r\n      result => this.resources = result,\r\n      error => console.error('Error fetching resources:', error)\r\n    );\r\n  }\r\n\r\n  addResource() {\r\n    this.authService.getUser().pipe(take(1)).subscribe(\r\n      user => {\r\n        this.newResource.createdBy = user?.name ?? null;\r\n       \r\n        const selectedClassroomId = this.newResource.selectedClassroomId;\r\n\r\n        // Find the selected classroom based on selectedClassroomId\r\n        const selectedClassroom = this.classrooms.find(c => c.id === selectedClassroomId);\r\n\r\n        if (selectedClassroom) {\r\n          // Set the classroomId to the selected classroom's id\r\n          this.newResource.classroomId = selectedClassroom.id;\r\n          console.log('Selected Classroom ID:', this.newResource.selectedClassroomId);\r\n\r\n          this.http.post<Resource>(`${this.apiUrl}PostResource`, this.newResource).subscribe(\r\n            result => {\r\n              result.classroomId = selectedClassroom.id;\r\n              this.resources.push(result);\r\n              this.resetNewResource();\r\n            },\r\n            error => console.error('Error adding resource:', error)\r\n          );\r\n        } else {\r\n          console.error('Selected classroom not found');\r\n        }\r\n      },\r\n      error => console.error('Error fetching user:', error)\r\n    );\r\n  }\r\n\r\n  updateResource(id: number, Resource: Resource) {\r\n    this.http.put(`${this.apiUrl}PutResource/${id}`, Resource).subscribe(\r\n      () => {\r\n      },\r\n      error => console.error('Error updating resource:', error)\r\n    );\r\n  }\r\n\r\n  deleteResource(id: number | undefined) {\r\n    if (id === undefined) {   \r\n      return;\r\n    }\r\n\r\n    this.http.delete(`${this.apiUrl}DeleteResource/${id}`).subscribe(\r\n      () => {\r\n        this.resources = this.resources.filter(r => r.id !== id);\r\n      },\r\n      error => console.error('Error deleting resource:', error)\r\n    );\r\n  }\r\n\r\n  getResourcesByClassroomId(classroomId: number): Resource[] {\r\n    return this.resources.filter(resource => resource.classroomId === classroomId);\r\n  }\r\n\r\n  toggleClassroom(classroomId: number): void {\r\n    if (this.expandedClassrooms.has(classroomId)) {\r\n      this.expandedClassrooms.delete(classroomId);\r\n    } else {\r\n      this.expandedClassrooms.add(classroomId);\r\n    }\r\n  }\r\n\r\n  isClassroomExpanded(classroomId: number): boolean {\r\n    return this.expandedClassrooms.has(classroomId);\r\n  }\r\n\r\n  private resetNewResource() {\r\n    this.newResource = this.getEmptyResource();\r\n  }\r\n\r\n  private getEmptyResource(): Resource {\r\n    return {\r\n      id: 0,\r\n      name: '',\r\n      description: '',\r\n      classroomId: 0,\r\n      code: '',\r\n      createdBy: ''\r\n    };\r\n  }\r\n}\r\n\r\ninterface Resource {\r\n  id: number;\r\n  name: string;\r\n  description: string;\r\n  code: string;\r\n  classroomId: number;\r\n  createdBy: string | null;\r\n  selectedClassroomId?: number;\r\n}\r\n\r\nenum Subject {\r\n  Physics = 0,\r\n  Biology = 1,\r\n  Chemistry = 2,\r\n}\r\n\r\ninterface Classroom {\r\n  id: number;\r\n  name: string;\r\n  subject: Subject;\r\n  teacher: string | null;\r\n  resources: Resource[];\r\n}\r\n","<nav>\r\n  <a (click)=\"showView('index')\">Index</a>\r\n  <a (click)=\"showView('create')\">Create</a>\r\n</nav>\r\n\r\n<div *ngIf=\"currentView === 'index'\">\r\n  <h2>Resources</h2>\r\n\r\n  <div class=\"resources-container\">\r\n    <div *ngFor=\"let classroom of classrooms\" class=\"classroom-section\">\r\n      <div class=\"classroom-header\" (click)=\"toggleClassroom(classroom.id)\">\r\n        <h3>{{ classroom.name }}</h3>\r\n        <span [class.expanded]=\"isClassroomExpanded(classroom.id)\">&#9660;</span>\r\n      </div>\r\n      <div *ngIf=\"isClassroomExpanded(classroom.id)\">\r\n        <div *ngFor=\"let resource of getResourcesByClassroomId(classroom.id)\" class=\"resource-card\">\r\n          <strong>Name:</strong> {{ resource.name }}<br>\r\n          <strong>Description:</strong> {{ resource.description }}<br>\r\n          <strong>Code:</strong> {{ resource.code }}<br>\r\n          <button (click)=\"showView('edit', resource)\">Edit</button>\r\n          <button (click)=\"deleteResource(resource.id)\">Delete</button>\r\n        </div>\r\n        <button (click)=\"showViewCreate(classroom)\" class=\"create-resource-button\">Create Resource</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf=\"currentView === 'create'\">\r\n  <div class=\"resource-card\">\r\n    <h3>Add New Resource</h3>\r\n    <form (ngSubmit)=\"addResource()\">\r\n      <label for=\"name\">Name:</label>\r\n      <input type=\"text\" id=\"name\" name=\"name\" [(ngModel)]=\"newResource.name\" required>\r\n\r\n      <label for=\"description\">Description:</label>\r\n      <textarea id=\"description\" name=\"description\" [(ngModel)]=\"newResource.description\" required></textarea>\r\n\r\n      <label for=\"code\">Code:</label>\r\n      <input type=\"text\" id=\"code\" name=\"code\" [(ngModel)]=\"newResource.code\" required>\r\n\r\n      <label for=\"classroomId\">Classroom:</label>\r\n      <select id=\"classroomId\" [(ngModel)]=\"newResource.selectedClassroomId\" name=\"classroomId\">\r\n        <option *ngFor=\"let classroom of classrooms\" [ngValue]=\"classroom.id\">{{ classroom.name }}</option>\r\n      </select>\r\n\r\n      <button type=\"submit\">Add Resource</button>\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf=\"currentView === 'edit'\">\r\n  <div class=\"resource-card\">\r\n    <p>Edit Resource View</p>\r\n    <form *ngIf=\"selectedResource\" (ngSubmit)=\"updateResource(selectedResource.id, selectedResource)\">\r\n      <label for=\"name\">Name:</label>\r\n      <input type=\"text\" id=\"name\" name=\"name\" [(ngModel)]=\"selectedResource.name\" required>\r\n\r\n      <label for=\"description\">Description:</label>\r\n      <textarea id=\"description\" name=\"description\" [(ngModel)]=\"selectedResource.description\" required></textarea>\r\n\r\n      <label for=\"code\">Code:</label>\r\n      <input type=\"text\" id=\"code\" name=\"code\" [(ngModel)]=\"selectedResource.code\" required>\r\n\r\n      <button type=\"submit\">Save Changes</button>\r\n    </form>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}